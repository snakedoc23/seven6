<script>
	jQuery(document).ready(function() {

		// Dodane trasy
		new Highcharts.Chart({
			colors: [
				'#c84446'	
			],
			chart: {
				renderTo: 'routes_chart',
				type: 'column',
				borderWidth: 1,
				borderColor: '#caced0',
				backgroundColor: null
			},
			plotOptions : {
				series: {
					borderColor: '#ffffff',
					shadow: false
				}
			},
			credits: {
				enabled: false
			},
			legend: {
				enabled: false
			},
			title: {
				text: 'Dodane trasy w ostatnich dniach',
				style: {
					color: '#283a43'
				}
			},
			xAxis: {
				categories: [
					<% (@total_distance.size).times do |i| %>
						<%= "'#{l (i + 5 * @offset ).week.ago.beginning_of_week, :format => '%d.%m'} - #{l (i + 5 * @offset ).week.ago.end_of_week, :format => '%d.%m'}'" %>
						<% if i <  @total_routes.size %>
							<%= "," %>
						<% end %>
					<% end %>
				]
			},
			yAxis: {
				title: {
					text: 'Liczba dodanych tras',
					style: {
						color: '#283a43'
					}
				},
				allowDecimals: false
			},

			series: [{
				name: "Dodane trasy",
				data: <%= @total_routes %>
			}]
		});

		// Kilometry
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		new Highcharts.Chart({
			colors: [
				'#283a43'	
			],
			chart: {
				renderTo: 'distance_chart',
				type: 'column',
				borderWidth: 1,
				borderColor: '#caced0',
				backgroundColor: null
			},
			plotOptions : {
				series: {
					borderColor: '#ffffff',
					shadow: false
				}
			},
			credits: {
				enabled: false
			},
			legend: {
				enabled: false
			},
			title: {
				text: 'Przejechane kilometry w ostatnich dniach',
				style: {
					color: '#283a43'
				}
			},
			xAxis: {
				categories: [
					<% (@total_distance.size).times do |i| %>
						<%= "'#{l (i + 5 * @offset ).week.ago.beginning_of_week, :format => '%d.%m'} - #{l (i + 5 * @offset ).week.ago.end_of_week, :format => '%d.%m'}'" %>
						<% if i <  @total_routes.size %>
							<%= "," %>
						<% end %>
					<% end %>
				]
			},
			yAxis: {
				title: {
					text: 'Liczba przejechanych kilometrów',
					style: {
						color: '#283a43'
					}
				}
			},

			series: [{
				name: "Kilometry",
				data: <%= @total_distance %>
			}]
		});

		// Suma podjazdów
		/////////////////////////////////////////////////////////////////////////////////////////////////////
		new Highcharts.Chart({
			colors: [
				'#c84446'	
			],
			chart: {
				renderTo: 'climbup_chart',
				type: 'column',
				borderWidth: 1,
				borderColor: '#caced0',
				backgroundColor: null
			},
			plotOptions : {
				series: {
					borderColor: '#ffffff',
					shadow: false
				}
			},
			credits: {
				enabled: false
			},
			legend: {
				enabled: false
			},
			title: {
				text: 'Suma pokonanych wzniesień',
				style: {
					color: '#283a43'
				}
			},
			xAxis: {
				categories: [
					<% (@total_distance.size).times do |i| %>
						<%= "'#{l (i + 5 * @offset ).week.ago.beginning_of_week, :format => '%d.%m'} - #{l (i + 5 * @offset ).week.ago.end_of_week, :format => '%d.%m'}'" %>
						<% if i <  @total_routes.size %>
							<%= "," %>
						<% end %>
					<% end %>
				]
			},
			yAxis: {
				title: {
					text: 'Pokonane wzniesienia (m)',
					style: {
						color: '#283a43'
					}
				}
			},

			series: [{
				name: "Wzniesienia",
				data: <%= @total_climb_up %>
			}]
		});

	});
	
</script>

